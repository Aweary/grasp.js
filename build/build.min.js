function Template(t){function e(t){var a=n.call(t.children,0);a.length&&a.forEach(function(t){if(t.hasAttribute("data-repeat")){var n=t.getAttribute("data-repeat").split(" as "),a=n[0],i=r.digests.repeats[a]={};return i.parent=t.parentNode,i.template=t.parentNode.removeChild(t),void(i.indentifier=n[1])}var o=t.innerText.match(/#{[\w|\.]+}/gim);o&&o.forEach(function(e){var e=e.replace(/\W/gim,""),n=r.digests[e]={};n.element=t}),t.children&&e(t)})}var n=Array.prototype.slice,r=this;this.name=t,this.data={},this.digests={},this.digests.repeats={},this.bindings=[];for(var a=n.call(document.querySelectorAll("[data-grasp-template]"),0),i=0;i<a.length;i++){var o=a[i].getAttribute("data-grasp-template");o===t&&(this._templateRoot=a[i])}if(!this._templateRoot)throw new Error("No template found for "+t);e(this._templateRoot)}Template.prototype.digest=function(t){function e(t,e){var r=e.parent,a=e.indentifier;t.forEach(function(t){Object.keys(t).map(function(i){var o="#{"+a+"."+i+"}",s=e.template.cloneNode(!0),d=t[i];r.appendChild(s),n.bindings.push({binding:o,node:s,value:d})})})}var n=this;if(!this._templateRoot)throw new Error("Digest called on unbound template");var r=this.digests,a=r.repeats;Object.keys(t).forEach(function(n){return a[n]?void e(t[n],a[n]):void 0})},Template.prototype.render=function(){var t=this;document.addEventListener("DOMContentLoaded",function(){t.bindings.forEach(function(t){t.node.innerText;console.log(t)})})};var grasp=function(t){return document.querySelector(t)};grasp.template=function(t){return new Template(t)};